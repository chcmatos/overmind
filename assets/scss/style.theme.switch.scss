.switch {
  position: relative;
  overflow: hidden;
  width: 7.5rem;
  height: 4rem;

  input {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
    opacity: 0;

    //#region Transition to SUN
    &:checked {
      ~ .sun-moon {
        left: calc(100% - 4rem);
        background: #f5ec59;
        border-color: #e7c65c;
        transform: rotate(-25deg);

        .dots,
        .dots:after,
        .dots:before {
          background: #fff;
          border-color: #fff;
        }

        .dots {
          height: 1.5rem;
          width: 1.5rem;
          top: 0px;
          left: -20px;
          transform: rotate(25deg);
          &:after {
            height: 0.65rem;
            width: 0.65rem;
            top: 2px;
            left: -12px;
          }
          &:before {
            height: 0.4rem;
            width: 0.4rem;
            top: 6px;
            left: 14px;
          }
        }
      }
    }
    //#endregion
  }

  label {
    cursor: pointer;

    .sun-moon {
      .dots {
        &:after {
          top: -4px;
          left: -26px;
        }
        &:before {
          top: 18px;
          left: -10px;
        }

        &:after,
        &:before {
          position: absolute;
          content: '';
          display: block;
          height: 0.25rem;
          width: 0.25rem;
          background: #efeedb;
          border: 0.25rem solid #dee2c6;
          border-radius: 50%;
          transition: 0.4s all ease;
        }

        position: absolute;
        top: 3px;
        left: 23px;
        height: 1rem;
        width: 1rem;
        background: #efeedb;
        border: 0.25rem solid #dee2c6;
        border-radius: 50%;
        transition: 0.4s all ease;
      }

      z-index: 2;
      position: absolute;
      left: 0;
      display: inline-block;
      height: 3rem;
      width: 3rem;
      margin: 0.5rem;
      background: #fffdf2;
      border-radius: 50%;
      transition: all 0.5s ease;

      /* Default to Moon */
      border: 0.25rem solid #dee2c6;
    }
  }

  .background {
    z-index: 1;
    position: absolute;
    width: 7.5rem;
    height: 4rem;
    border-radius: 2.5rem;
    border: 0.25rem solid #202020;
    background: linear-gradient(to right, #484848 0%, #202020 100%);
    transition: all 0.3s;
  }
}

.switch input:checked ~ .background {
  border: 0.25rem solid #78c1d5;
  background: linear-gradient(to right, #78c1d5 0%, #bbe7f5 100%);
}
